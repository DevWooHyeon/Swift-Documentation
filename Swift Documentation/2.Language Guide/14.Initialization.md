# Initialization (초기화)

타입의 저장된 프로퍼티에 대한 초기값을 설정하고 초기 설정을 수행합니다.

#

초기화는 사용할 클래스, 구조체 또는 열거형의 인스턴스를 준비하는 단계입니다.

이 단계에는 해당 인스턴스의 각 저장 프로퍼티에 대한 초기값을 설정하고 새로운 인스턴스를 사용할 준비가 되기 전에 필요한 기타 설정 또는 초기화를 수행하는 작업이 포함됩니다.

#

특정 타입의 새로운 인스턴스를 생성하기 위해 호출할 수 있는 특수 메서드와 유사한 초기화 구문을 정의하여 초기화를 구현합니다.

Objective-C 초기화 구문과 달리 Swift 초기화 구문은 값을 반환하지 않습니다.

초기화의 주요 역할은 새로운 인스턴스가 처음 사용되기 전에 올바르게 초기화 되었는지 확인하는 것입니다.

#

클래스 타입의 인스턴스는 해당 클래스의 인스턴스가 할당 해제되기 직전에 사용자 정의 정리를 수행하는 초기화 해제 (deinitializer) 도 구현할 수 있습니다.

초기화 해제에 대한 자세한 내용은 [초기화 해제 (Deinitialization)]() 를 참조하세요.

<br>

## 저장 프로퍼티의 초기값 설정 (Setting Initial Values for Stored Properties)

클래스와 구조체는 해당 클래스나 구조체의 인스턴스가 생성될 때까지 모든 저장 프로퍼티에 적절한 초기값을 반드시 설정해야 합니다.

저장 프로퍼티는 불확실한 상태로 남겨질 수 없습니다.

#

이니셜라이저 내에서 또는 프로퍼티 정의 부분에서 기본 프로퍼티 값을 할당하여 저장 프로퍼티의 초기값을 설정할 수 있습니다.

이러한 작업은 다음 섹션에 설명되어 있습니다.

> Note    
> 저장 프로퍼티에 기본값을 할당하거나 이니셜라이저 내에서 초기값을 설정하면 해당 프로퍼티의 값은 모든 프로퍼티 관찰자 호출없이 직접 값이 설정됩니다.

<br>

### 초기화 구문 (Initializers)

특정 타입의 새로운 인스턴스를 생성하기 위해 초기화 구문이 호출됩니다.

가장 간단한 형태의 초기화 구문은 파라미터가 없는 인스턴스 메서드와 같으며 `init` 키워드를 사용하여 작성됩니다.

~~~ swift
init() {
    // perform some initialization here
}
~~~

#

아래 예제는 화씨 단위로 표현된 온도를 저장하기 위해 `Fahrenheit` 라는 새로운 구조체를 정의합니다.

`Fahrenheit` 구조체는 `Double` 타입의 `temperature` 라는 하나의 저장 프로퍼티가 있습니다.

~~~ swift
struct Fahrenheit {
    var temperature: Double
    init() {
        temperature = 32.0
    }
}
var f = Fahrenheit()
print("The default temperature is \(f.temperature)° Fahrenheit")
// Prints "The default temperature is 32.0° Fahrenheit"
~~~

이 구조체는 파라미터가 없고 `32.0` (화씨 단위의 물이 어는점) 의 값으로 초기화하는 `init` 의 단일 초기화 구문을 정의합니다.

<br>

### 기본 파라미터 값 (Default Property Values)

위에서 보았듯이 초기화 구문 내에서 저장 프로퍼티의 초기값을 설정할 수 있습니다.

또는 프로퍼티 선언의 일부로 기본 프로퍼티 값을 지정합니다.

프로퍼티가 정의될 때 프로퍼티에 초기값을 할당하여 기본 프로퍼티 값을 지정합니다.

> Note    
> 프로퍼티가 항상 동일한 초기값을 사용하는 경우 초기화 구문 내에서 값을 설정하기보다 기본값을 제공하세요.
> 결과는 같지만 기본값은 프로퍼티의 초기화를 해당 선언과 더 밀접하게 연결합니다.
> 이를 통해 더 짧고 명확한 초기화가 가능하며 기본값에서 프로퍼티의 타입을 추론할 수 있습니다.
> 또한 기본값은 이 챕터 후반부에 설명된 대로 기본 초기화 및 초기화 구문 상속을 더 쉽게 활용할 수 있습니다.

#

프로퍼티가 선언되는 시점에 `temperature` 에 기본값을 제공하여 위의 `Fahrenheit` 구조체를 더 간단한 형식으로 작성할 수 있습니다.

~~~ swift
struct Fahrenheit {
    var temperature = 32.0
}
~~~

<br>

## 초기화 구문 사용자 정의 (Customizing Initialization)

다음 섹션에 설명된 대로 입력 파라미터 및 옵셔널 프로퍼티 타입을 사용하거나 초기화 중에 상수 프로퍼티를 할당하여 초기화 단계를 사용자 정의할 수 있습니다.

<br>

### 초기화 파라미터 (Initialization Parameters)

초기화 파라미터를 초기화 정의의 일부로 제공하여 초기화 단계를 사용자 정의하는 값의 타입과 이름을 정의할 수 있습니다.

초기화 파라미터는 함수 및 메서드 파라미터와 동일한 기능 및 구문을 갖습니다.

#

다음 예제는 섭씨 온도로 표시되는 온도를 저장하는 `Celsius` 구조체를 정의합니다.

`Celsius` 구조체는 다른 온도 체계에서의 값으로 구조체의 새로운 인스턴스를 초기화하기 위해 `init(fromFahrenheit:)` 와 `init(fromKelvin:)` 이라고 하는 2개의 사용자 정의 초기화 구문을 구현합니다.

~~~ swift
struct Celsius {
    var temperatureInCelsius: Double
    init(fromFahrenheit fahrenheit: Double) {
        temperatureInCelsius = (fahrenheit - 32.0) / 1.8
    }
    init(fromKelvin kelvin: Double) {
        temperatureInCelsius = kelvin - 273.15
    }
}
let boilingPointOfWater = Celsius(fromFahrenheit: 212.0)
// boilingPointOfWater.temperatureInCelsius is 100.0
let freezingPointOfWater = Celsius(fromKelvin: 273.15)
// freezingPointOfWater.temperatureInCelsius is 0.0
~~~

첫번째 초기화 구문은 `fromFahrenheit` 의 인수 레이블과 `fahrenheit` 의 파라미터 이름을 가진 단일 초기화 파라미터를 가지고 있습니다.

두번째 초기화 구문은 `fromKelvin` 의 인수 레이블과 `kelvin` 의 파라미터 이름을 가진 단일 초기화 파라미터를 가지고 있습니다.

두 초기화 구문은 모두 단일 인수를 해당 섭씨 값으로 변환하고 `temperatureInCelsius` 라는 프로퍼티에 값을 저장합니다.

<br>

### 파라미터 이름 및 인수 레이블 (Parameter Names and Argument Labels)

함수와 메서드 파라미터와 마찬가지로 초기화 파라미터에는 초기화 구문의 본문 내에서 사용할 파라미터 이름과 초기화 호출 시 사용할 인수 레이블이 모두 있을 수 있습니다.

#

그러나 초기화 구문에는 함수 및 메서드와 달리 소괄호 앞에 식별 함수 이름이 없습니다.

따라서 초기화 구문 파라미터의 이름과 타입은 어떤 초기화 구문을 호출해야 하는지 식별하는데 특히 중요한 역할을 합니다.

이 때문에 Swift 는 사용자가 파라미터를 제공하지 않을 경우 초기화의 모든 파라미터에 대해 자동 인수 레이블을 제공합니다.

#

다음 예제는 `red`, `green`, `blue` 라는 3가지 상수 프로퍼티를 사용하여 `Color` 라는 구조체를 정의합니다.

이러한 프로퍼티는 색상의 빨간색, 초록색, 파란색 의 양을 나타내는 `0.0` 과 `1.0` 사이의 값을 저장합니다.

#

`Color` 는 빨간색, 초록색, 파란색의 구성 요소에 대해 적절하게 이름이 지정된 3가지 `Double` 타입 파라미터가 있는 초기화 구문을 제공합니다.

`Color` 는 3가지 색상 구성 요소 모두에 대해 동일한 값을 제공할 때 사용되는 `white` 파라미터를 가진 두번째 초기화 구문을 제공합니다.

~~~ swift
struct Color {
    let red, green, blue: Double
    init(red: Double, green: Double, blue: Double) {
        self.red   = red
        self.green = green
        self.blue  = blue
    }
    init(white: Double) {
        red   = white
        green = white
        blue  = white
    }
}
~~~

#

두 초기화 구문은 각 초기화 구문 파라미터에 명명된 값을 제공하여 새로운 `Color` 인스턴스를 생성하는데 사용할 수 있습니다.

~~~ swift
let magenta = Color(red: 1.0, green: 0.0, blue: 1.0)
let halfGray = Color(white: 0.5)
~~~

#

인수 레이블을 사용하지 않고 이러한 초기화 구문을 호출하는 것은 불가능합니다.

인수 레이블은 정의 되었다면 항상 초기화에서 사용되어야 하고 생략하면 컴파일 타임 에러가 발생합니다.

~~~ swift
let veryGreen = Color(0.0, 1.0, 0.0)
// this reports a compile-time error - argument labels are required
~~~

<br>

### 인수 레이블이 없는 초기화 구문 파라미터 (Initializer Parameters Without Augument Labels)

초기화 파라미터에 인수 레이블을 사용하지 않으려면 파라미터에 대한 명시적인 인수 레이블 대신 언더바 (`_`) 를 작성하여 기본 동작을 재정의 합니다.

#

다음은 섭씨 온도에 대한 `Double` 값으로 새로운 `Celsius` 인스턴스를 생성하기 위한 추가 초기화 구문이 포함된 [초기화 파라미터 (Initialization Parameters)]() 의 `Celsius` 예제의 확장된 버전입니다.

~~~ swift
struct Celsius {
    var temperatureInCelsius: Double
    init(fromFahrenheit fahrenheit: Double) {
        temperatureInCelsius = (fahrenheit - 32.0) / 1.8
    }
    init(fromKelvin kelvin: Double) {
        temperatureInCelsius = kelvin - 273.15
    }
    init(_ celsius: Double) {
        temperatureInCelsius = celsius
    }
}
let bodyTemperature = Celsius(37.0)
// bodyTemperature.temperatureInCelsius is 37.0
~~~

`Celsius(37.0)` 초기화 구문 호출은 인수 레이블이 필요 없이 의도가 명확합니다.

따라서 이름 없는 `Double` 값을 제공하여 호출할 수 있도록 `init(_ celsius: Double)` 초기화 구문을 작성하는 것이 적절합니다.

<br>

### 옵셔널 프로퍼티 타입 (Optional Property Types)

사용자 정의 타입에 논리적으로 "값 없음" 이 허용되는 저장 프로퍼티가 있는 경우 (초기화 중에 해당 값을 설정할 수 없거나 나중에 "값 없음" 을 가질 수 있기 때문)

해당 프로퍼티를 옵셔널 타입 프로퍼티로 선언합니다.

옵셔널 타입의 프로퍼티 값은 `nil` 값으로 자동 초기화됩니다.

이는 프로퍼티가 초기화 중에 "아직 값 없음" 을 가진다는 의도를 나타냅니다.

#

다음 예제는 `response` 라는 옵셔널 `String` 프로퍼티를 가지는 `SurveyQuestion` 이라는 클래스를 정의합니다.

~~~ swift
class SurveyQuestion {
    var text: String
    var response: String?
    init(text: String) {
        self.text = text
    }
    func ask() {
        print(text)
    }
}
let cheeseQuestion = SurveyQuestion(text: "Do you like cheese?")
cheeseQuestion.ask()
// Prints "Do you like cheese?"
cheeseQuestion.response = "Yes, I do like cheese."
~~~

설문조사 질문에 대한 응답은 질문을 받을 때까지 알 수 없으므로 `response` 프로퍼티 타입은 `String?` 또는 "옵셔널 `String`" 타입으로 선언됩니다.

`SurveyQuestion` 의 새로운 인스턴스가 초기화 되면 "아직 문자열 없음" 을 의미하는 기본값 `nil` 이 자동으로 할당됩니다.

<br>

### 초기화 중 상수 프로퍼티 할당 (Assigning Constant Properties During Initialization)

초기화가 완료될 때까지 명확한 값으로 설정되는 한 초기화 중 언제든지 상수 프로퍼티에 값을 할당할 수 있습니다.

상수 프로퍼티에 값이 할당되면 더 이상 수정할 수 없습니다.

> Note    
> 클래스 인스턴스의 경우 상수 프로퍼티는 해당 프로퍼티를 도입한 클래스에 의해서만 초기화 중에 수정될 수 있습니다.
> 하위 클래스에서는 수정할 수 없습니다.

#

위의 `SurveyQuestion` 예제를 수정하여 `text` 프로퍼티에 대해 변수 프로퍼티가 아닌 상수 프로퍼티를 사용하여 `SurveyQuestion` 인스턴스가 생성된 후에는 질문이 변경되지 않음을 나타낼 수 있습니다.

`text` 프로퍼티가 이제 상수 이더라도 클래스의 초기화 구문 내에서 계속 설정할 수 있습니다.

~~~ swift
class SurveyQuestion {
    let text: String
    var response: String?
    init(text: String) {
        self.text = text
    }
    func ask() {
        print(text)
    }
}
let beetsQuestion = SurveyQuestion(text: "How about beets?")
beetsQuestion.ask()
// Prints "How about beets?"
beetsQuestion.response = "I also like beets. (But not with cheese.)"
~~~

<br>

## 기본 초기화 구문 (Default Initializers)

Swift 는 모든 프로퍼티에 대한 기본값을 제공하고 최소한 하나의 초기화 구문을 제공하지 않는 모든 구조체 또는 클래스에 대해 기본 초기화 구문을 제공합니다.

기본 초기화 구문은 모든 프로퍼티가 기본값으로 설정된 새로운 인스턴스를 생성합니다.

#

이 예제는 쇼핑 리스트에 있는 항목의 이름, 수량 그리고 구매 상태를 캡슐화하는 `ShoppingListItem` 클래스를 정의합니다.

~~~ swift
class ShoppingListItem {
    var name: String?
    var quantity = 1
    var purchased = false
}
var item = ShoppingListItem()
~~~

`ShoppingListItem` 클래스의 모든 프로퍼티는 기본값을 가지고 있고 상위 클래스가 없는 기본 클래스이기 때문에 모든 프로퍼티가 기본값으로 설정된 새로운 인스턴스를 생성하()는 기본 초기화 구현을 자동으로 갖습니다.

(`name` 프로퍼티는 코드에서 값을 작성하지 않았지만 옵셔널 `String` 프로퍼티 이므로 자동으로 기본값 `nil` 을 받습니다.)

위의 예제는 `ShoppingListItem` 클래스의 기본 초기화를 사용하여 클래스의 새로운 인스턴스를 생성합니다.

`ShoppingListItem()` 으로 작성된 초기화 구문을 사용하고 클래스의 새로운 인스턴스를 `item` 이라는 변수에 할당합니다.

<br>

### 구조체 타입에 대한 멤버별 초기화 구문 (Memberwise Initializers for Structure Types)
























***

### ⬅️ [Inheritance](https://github.com/Developer-Nova/Swift-Documentation/blob/main/Swift%20Documentation/2.Language%20Guide/13.Inheritance.md)

### ➡️ [Deinitialization](https://github.com/Developer-Nova/Swift-Documentation/blob/main/Swift%20Documentation/2.Language%20Guide/15.Deinitialization.md)
